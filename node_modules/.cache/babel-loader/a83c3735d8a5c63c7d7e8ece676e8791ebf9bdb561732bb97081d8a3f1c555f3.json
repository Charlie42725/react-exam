{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\linei\\\\Desktop\\\\coding\\\\exam\\\\src\\\\pages\\\\ContentManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Container, Typography, Button, Dialog, DialogTitle, DialogContent, DialogActions, TextField, IconButton, Select, MenuItem, FormControl, InputLabel, CircularProgress, Alert, Card, CardContent, Grid, Paper, Divider, List, ListItem, ListItemText, ListItemSecondaryAction } from '@mui/material';\nimport { Edit as EditIcon, Delete as DeleteIcon, Add as AddIcon } from '@mui/icons-material';\nimport axios from 'axios';\n\n// API URL 統一取得\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nfunction ContentManagement() {\n  _s();\n  const [contents, setContents] = useState([]);\n  const [filteredContents, setFilteredContents] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [open, setOpen] = useState(false);\n  const [editingContent, setEditingContent] = useState(null);\n  const [formData, setFormData] = useState({\n    category: '',\n    title: '',\n    prompt: '',\n    steps: []\n  });\n  const [newStep, setNewStep] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [categories, setCategories] = useState([]);\n  const [openCategoryDialog, setOpenCategoryDialog] = useState(false);\n  const [editingCategory, setEditingCategory] = useState(null);\n  const [categoryFormData, setCategoryFormData] = useState({\n    value: '',\n    label: ''\n  });\n\n  // 獲取分類列表\n  const fetchCategories = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/categories`);\n      setCategories(response.data);\n    } catch (err) {\n      console.error('Error fetching categories:', err);\n      setError('獲取分類列表失敗');\n    }\n  };\n\n  // 獲取所有內容\n  const fetchContents = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get(`${API_URL}/contents`);\n      setContents(response.data);\n      setFilteredContents(response.data);\n      setError(null);\n    } catch (err) {\n      setError('獲取內容失敗：' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchCategories();\n    fetchContents();\n  }, []);\n\n  // 處理分類過濾\n  useEffect(() => {\n    if (selectedCategory) {\n      setFilteredContents(contents.filter(content => content.category === selectedCategory));\n    } else {\n      setFilteredContents(contents);\n    }\n  }, [selectedCategory, contents]);\n  const handleCategoryChange = event => {\n    setSelectedCategory(event.target.value);\n  };\n  const handleOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n    setEditingContent(null);\n    setFormData({\n      category: '',\n      title: '',\n      prompt: '',\n      steps: []\n    });\n    setNewStep('');\n  };\n  const handleEdit = content => {\n    setEditingContent(content);\n    setFormData({\n      category: content.category,\n      title: content.title,\n      prompt: content.prompt,\n      steps: content.steps\n    });\n    setOpen(true);\n  };\n  const handleDelete = async id => {\n    if (window.confirm('確定要刪除這個內容嗎？')) {\n      try {\n        await axios.delete(`${API_URL}/contents/${id}`);\n        fetchContents();\n      } catch (err) {\n        setError('刪除內容失敗：' + err.message);\n      }\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      if (editingContent) {\n        await axios.put(`${API_URL}/contents/${editingContent._id}`, formData);\n      } else {\n        await axios.post(`${API_URL}/contents`, formData);\n      }\n      handleClose();\n      fetchContents();\n    } catch (err) {\n      setError('保存內容失敗：' + err.message);\n    }\n  };\n  const handleAddStep = () => {\n    if (newStep.trim()) {\n      setFormData(prev => ({\n        ...prev,\n        steps: [...prev.steps, newStep.trim()]\n      }));\n      setNewStep('');\n    }\n  };\n  const handleRemoveStep = index => {\n    setFormData(prev => ({\n      ...prev,\n      steps: prev.steps.filter((_, i) => i !== index)\n    }));\n  };\n\n  // 分類管理相關函數\n  const handleOpenCategoryDialog = (category = null) => {\n    if (category) {\n      setEditingCategory(category);\n      setCategoryFormData({\n        value: category.value,\n        label: category.label\n      });\n    } else {\n      setEditingCategory(null);\n      setCategoryFormData({\n        value: '',\n        label: ''\n      });\n    }\n    setOpenCategoryDialog(true);\n  };\n  const handleCloseCategoryDialog = () => {\n    setOpenCategoryDialog(false);\n    setEditingCategory(null);\n    setCategoryFormData({\n      value: '',\n      label: ''\n    });\n  };\n  const handleSubmitCategory = async e => {\n    e.preventDefault();\n    try {\n      if (editingCategory) {\n        await axios.put(`${API_URL}/categories/${editingCategory._id}`, categoryFormData);\n      } else {\n        await axios.post(`${API_URL}/categories`, categoryFormData);\n      }\n      handleCloseCategoryDialog();\n      fetchCategories();\n    } catch (err) {\n      console.error('Error saving category:', err);\n      setError('保存分類失敗');\n    }\n  };\n  const handleDeleteCategory = async id => {\n    if (window.confirm('確定要刪除這個分類嗎？刪除分類可能會影響相關內容。')) {\n      try {\n        await axios.delete(`${API_URL}/categories/${id}`);\n        fetchCategories();\n      } catch (err) {\n        console.error('Error deleting category:', err);\n        setError('刪除分類失敗');\n      }\n    }\n  };\n  const handleAddContent = async () => {\n    try {\n      const response = await axios.post(`${API_URL}/contents`, newContent);\n      setContents(prevContents => [...prevContents, response.data]);\n      setNewContent({\n        category: '',\n        title: '',\n        prompt: '',\n        steps: ['']\n      });\n      setOpenDialog(false);\n    } catch (error) {\n      console.error('Error adding content:', error);\n      alert('新增內容失敗，請重試');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    sx: {\n      mt: 4,\n      mb: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      component: \"h1\",\n      gutterBottom: true,\n      sx: {\n        fontWeight: 'bold',\n        color: 'primary.main',\n        textAlign: 'center',\n        mb: 4\n      },\n      children: \"\\u5167\\u5BB9\\u7BA1\\u7406\\u7CFB\\u7D71\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        p: 3,\n        mb: 4,\n        borderRadius: 2,\n        backgroundColor: 'background.paper'\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"\\u9078\\u64C7\\u5206\\u985E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: selectedCategory,\n              onChange: handleCategoryChange,\n              label: \"\\u9078\\u64C7\\u5206\\u985E\",\n              sx: {\n                height: 56,\n                minWidth: 200,\n                '& .MuiSelect-select': {\n                  fontSize: '1.1rem'\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"\",\n                children: \"\\u5168\\u90E8\\u5167\\u5BB9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this), categories.map(category => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: category.value,\n                children: category.label\n              }, category.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          sx: {\n            textAlign: {\n              xs: 'center',\n              md: 'right'\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 26\n            }, this),\n            onClick: handleOpen,\n            size: \"large\",\n            sx: {\n              px: 4,\n              py: 1.5,\n              borderRadius: 2,\n              textTransform: 'none',\n              fontSize: '1.1rem',\n              mr: 2\n            },\n            children: \"\\u65B0\\u589E\\u5167\\u5BB9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 26\n            }, this),\n            onClick: () => handleOpenCategoryDialog(),\n            size: \"large\",\n            sx: {\n              px: 4,\n              py: 1.5,\n              borderRadius: 2,\n              textTransform: 'none',\n              fontSize: '1.1rem'\n            },\n            children: \"\\u7BA1\\u7406\\u5206\\u985E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3,\n        borderRadius: 2,\n        '& .MuiAlert-message': {\n          fontSize: '1rem'\n        }\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      p: 4,\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 40\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        sx: {\n          width: '100%',\n          margin: 0\n        },\n        children: filteredContents.map(content => {\n          var _categories$find;\n          return /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            md: 3,\n            sx: {\n              display: 'flex',\n              p: '12px !important',\n              width: {\n                xs: '100%',\n                sm: '50%',\n                md: '25%'\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              elevation: 2,\n              sx: {\n                borderRadius: 2,\n                transition: 'transform 0.2s, box-shadow 0.2s',\n                '&:hover': {\n                  transform: 'translateY(-4px)',\n                  boxShadow: 4\n                },\n                height: 400,\n                width: '100%',\n                display: 'flex',\n                flexDirection: 'column',\n                flex: 1\n              },\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                sx: {\n                  p: 3,\n                  flex: 1,\n                  display: 'flex',\n                  flexDirection: 'column',\n                  height: '100%',\n                  overflow: 'hidden'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"flex-start\",\n                  mb: 2,\n                  children: [/*#__PURE__*/_jsxDEV(Box, {\n                    flex: 1,\n                    sx: {\n                      minWidth: 0,\n                      pr: 2\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"h6\",\n                      component: \"div\",\n                      sx: {\n                        fontWeight: 'bold',\n                        mb: 1,\n                        color: 'primary.main',\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                        display: '-webkit-box',\n                        WebkitLineClamp: 2,\n                        WebkitBoxOrient: 'vertical'\n                      },\n                      children: content.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 381,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      color: \"textSecondary\",\n                      sx: {\n                        fontSize: '0.9rem',\n                        mb: 2,\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                        whiteSpace: 'nowrap'\n                      },\n                      children: [\"\\u5206\\u985E\\uFF1A\", ((_categories$find = categories.find(c => c.value === content.category)) === null || _categories$find === void 0 ? void 0 : _categories$find.label) || content.category]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 397,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      display: 'flex',\n                      gap: 2,\n                      flexShrink: 0\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                      onClick: () => handleEdit(content),\n                      sx: {\n                        color: 'primary.main',\n                        '&:hover': {\n                          backgroundColor: 'primary.light'\n                        },\n                        width: 36,\n                        height: 36\n                      },\n                      children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 420,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 411,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                      onClick: () => handleDelete(content._id),\n                      sx: {\n                        color: 'error.main',\n                        '&:hover': {\n                          backgroundColor: 'error.light'\n                        },\n                        width: 36,\n                        height: 36\n                      },\n                      children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 431,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 422,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 410,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Divider, {\n                  sx: {\n                    my: 2\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  component: \"pre\",\n                  sx: {\n                    whiteSpace: 'pre-wrap',\n                    fontFamily: 'inherit',\n                    fontSize: '1rem',\n                    lineHeight: 1.5,\n                    backgroundColor: 'grey.50',\n                    p: 2,\n                    borderRadius: 1,\n                    mb: 2,\n                    flex: 1,\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    display: '-webkit-box',\n                    WebkitLineClamp: 4,\n                    WebkitBoxOrient: 'vertical'\n                  },\n                  children: content.prompt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 21\n                }, this), content.steps && content.steps.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n                  mt: 2,\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"subtitle1\",\n                    sx: {\n                      fontWeight: 'bold',\n                      mb: 1,\n                      color: 'primary.main'\n                    },\n                    children: \"\\u64CD\\u4F5C\\u6B65\\u9A5F\\uFF1A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 463,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    component: \"ol\",\n                    sx: {\n                      pl: 2,\n                      m: 0,\n                      '& li': {\n                        mb: 1,\n                        fontSize: '0.9rem',\n                        lineHeight: 1.4,\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                        display: '-webkit-box',\n                        WebkitLineClamp: 2,\n                        WebkitBoxOrient: 'vertical'\n                      }\n                    },\n                    children: [content.steps.slice(0, 2).map((step, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        children: step\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 492,\n                        columnNumber: 31\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 491,\n                      columnNumber: 29\n                    }, this)), content.steps.length > 2 && /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      color: \"textSecondary\",\n                      sx: {\n                        mt: 1,\n                        fontStyle: 'italic'\n                      },\n                      children: [\"\\u9084\\u6709 \", content.steps.length - 2, \" \\u500B\\u6B65\\u9A5F...\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 496,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 17\n            }, this)\n          }, content._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleClose,\n      maxWidth: \"md\",\n      fullWidth: true,\n      PaperProps: {\n        sx: {\n          borderRadius: 2,\n          p: 1,\n          minHeight: 600\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        sx: {\n          fontSize: '1.5rem',\n          fontWeight: 'bold',\n          color: 'primary.main',\n          pb: 2\n        },\n        children: editingContent ? '編輯內容' : '新增內容'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          component: \"form\",\n          onSubmit: handleSubmit,\n          sx: {\n            mt: 2,\n            '& .MuiFormControl-root': {\n              mb: 3\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"\\u5206\\u985E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: formData.category,\n              onChange: e => setFormData({\n                ...formData,\n                category: e.target.value\n              }),\n              label: \"\\u5206\\u985E\",\n              required: true,\n              sx: {\n                height: 56,\n                '& .MuiSelect-select': {\n                  fontSize: '1.1rem'\n                }\n              },\n              children: categories.map(category => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: category.value,\n                children: category.label\n              }, category.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 565,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"\\u6A19\\u984C\",\n            value: formData.title,\n            onChange: e => setFormData({\n              ...formData,\n              title: e.target.value\n            }),\n            required: true,\n            sx: {\n              mb: 3\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"\\u63D0\\u793A\\u8A5E\",\n            value: formData.prompt,\n            onChange: e => setFormData({\n              ...formData,\n              prompt: e.target.value\n            }),\n            multiline: true,\n            rows: 4,\n            required: true,\n            sx: {\n              mb: 3\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              sx: {\n                fontWeight: 'bold',\n                mb: 2,\n                color: 'primary.main'\n              },\n              children: \"\\u64CD\\u4F5C\\u6B65\\u9A5F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 15\n            }, this), formData.steps.map((step, index) => /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              alignItems: \"center\",\n              mb: 2,\n              sx: {\n                '& .MuiTextField-root': {\n                  mr: 1\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                sx: {\n                  mr: 2,\n                  fontWeight: 'bold',\n                  color: 'primary.main',\n                  minWidth: '2rem'\n                },\n                children: [index + 1, \".\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 615,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                value: step,\n                onChange: e => {\n                  const newSteps = [...formData.steps];\n                  newSteps[index] = e.target.value;\n                  setFormData({\n                    ...formData,\n                    steps: newSteps\n                  });\n                },\n                multiline: true,\n                rows: 2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                onClick: () => handleRemoveStep(index),\n                sx: {\n                  color: 'error.main',\n                  '&:hover': {\n                    backgroundColor: 'error.light'\n                  },\n                  ml: 1\n                },\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 644,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(Box, {\n              display: \"flex\",\n              mt: 2,\n              sx: {\n                '& .MuiTextField-root': {\n                  mr: 1\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \"\\u65B0\\u589E\\u6B65\\u9A5F\",\n                value: newStep,\n                onChange: e => setNewStep(e.target.value),\n                multiline: true,\n                rows: 2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 657,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleAddStep,\n                variant: \"outlined\",\n                sx: {\n                  px: 3,\n                  textTransform: 'none',\n                  fontSize: '1rem',\n                  ml: 1\n                },\n                children: \"\\u6DFB\\u52A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        sx: {\n          p: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          sx: {\n            mr: 1,\n            px: 3,\n            textTransform: 'none',\n            fontSize: '1rem'\n          },\n          children: \"\\u53D6\\u6D88\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSubmit,\n          variant: \"contained\",\n          sx: {\n            px: 3,\n            textTransform: 'none',\n            fontSize: '1rem'\n          },\n          children: \"\\u4FDD\\u5B58\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 681,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openCategoryDialog,\n      onClose: handleCloseCategoryDialog,\n      maxWidth: \"sm\",\n      fullWidth: true,\n      PaperProps: {\n        sx: {\n          borderRadius: 2,\n          p: 1\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        sx: {\n          fontSize: '1.5rem',\n          fontWeight: 'bold',\n          color: 'primary.main',\n          pb: 2\n        },\n        children: editingCategory ? '編輯分類' : '管理分類'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 720,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(List, {\n            children: categories.map(category => /*#__PURE__*/_jsxDEV(ListItem, {\n              sx: {\n                border: '1px solid',\n                borderColor: 'divider',\n                borderRadius: 1,\n                mb: 1,\n                '&:hover': {\n                  backgroundColor: 'action.hover'\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: category.label,\n                primaryTypographyProps: {\n                  fontSize: '1.1rem'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 744,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n                children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                  edge: \"end\",\n                  onClick: () => handleOpenCategoryDialog(category),\n                  sx: {\n                    mr: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 756,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 751,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                  edge: \"end\",\n                  onClick: () => handleDeleteCategory(category._id),\n                  sx: {\n                    color: 'error.main'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 763,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 758,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 750,\n                columnNumber: 19\n              }, this)]\n            }, category._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 732,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 730,\n            columnNumber: 13\n          }, this), editingCategory ? /*#__PURE__*/_jsxDEV(Box, {\n            component: \"form\",\n            onSubmit: handleSubmitCategory,\n            sx: {\n              mt: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"\\u5206\\u985E\\u540D\\u7A31\",\n              value: categoryFormData.label,\n              onChange: e => setCategoryFormData({\n                label: e.target.value\n              }),\n              required: true,\n              sx: {\n                mb: 3\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 776,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 771,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Box, {\n            component: \"form\",\n            onSubmit: handleSubmitCategory,\n            sx: {\n              mt: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"\\u65B0\\u589E\\u5206\\u985E\\u540D\\u7A31\",\n              value: categoryFormData.label,\n              onChange: e => setCategoryFormData({\n                label: e.target.value\n              }),\n              required: true,\n              sx: {\n                mb: 3\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 791,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 786,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 728,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        sx: {\n          p: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCloseCategoryDialog,\n          sx: {\n            mr: 1,\n            px: 3,\n            textTransform: 'none',\n            fontSize: '1rem'\n          },\n          children: \"\\u53D6\\u6D88\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 804,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSubmitCategory,\n          variant: \"contained\",\n          sx: {\n            px: 3,\n            textTransform: 'none',\n            fontSize: '1rem'\n          },\n          children: editingCategory ? '保存' : '新增'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 815,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 803,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 708,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 240,\n    columnNumber: 5\n  }, this);\n}\n_s(ContentManagement, \"uKFa3Q8renXrhVUb5pjcKQUu9yU=\");\n_c = ContentManagement;\nexport default ContentManagement;\nvar _c;\n$RefreshReg$(_c, \"ContentManagement\");","map":{"version":3,"names":["React","useState","useEffect","Box","Container","Typography","Button","Dialog","DialogTitle","DialogContent","DialogActions","TextField","IconButton","Select","MenuItem","FormControl","InputLabel","CircularProgress","Alert","Card","CardContent","Grid","Paper","Divider","List","ListItem","ListItemText","ListItemSecondaryAction","Edit","EditIcon","Delete","DeleteIcon","Add","AddIcon","axios","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","ContentManagement","_s","contents","setContents","filteredContents","setFilteredContents","selectedCategory","setSelectedCategory","open","setOpen","editingContent","setEditingContent","formData","setFormData","category","title","prompt","steps","newStep","setNewStep","loading","setLoading","error","setError","categories","setCategories","openCategoryDialog","setOpenCategoryDialog","editingCategory","setEditingCategory","categoryFormData","setCategoryFormData","value","label","fetchCategories","response","get","data","err","console","fetchContents","message","filter","content","handleCategoryChange","event","target","handleOpen","handleClose","handleEdit","handleDelete","id","window","confirm","delete","handleSubmit","e","preventDefault","put","_id","post","handleAddStep","trim","prev","handleRemoveStep","index","_","i","handleOpenCategoryDialog","handleCloseCategoryDialog","handleSubmitCategory","handleDeleteCategory","handleAddContent","newContent","prevContents","setNewContent","setOpenDialog","alert","maxWidth","sx","mt","mb","children","variant","component","gutterBottom","fontWeight","color","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","elevation","p","borderRadius","backgroundColor","container","spacing","alignItems","item","xs","md","fullWidth","onChange","height","minWidth","fontSize","map","startIcon","onClick","size","px","py","textTransform","mr","severity","display","justifyContent","width","margin","_categories$find","sm","transition","transform","boxShadow","flexDirection","flex","overflow","pr","textOverflow","WebkitLineClamp","WebkitBoxOrient","whiteSpace","find","c","gap","flexShrink","my","fontFamily","lineHeight","length","pl","m","slice","step","fontStyle","onClose","PaperProps","minHeight","pb","onSubmit","required","multiline","rows","newSteps","ml","border","borderColor","primary","primaryTypographyProps","edge","_c","$RefreshReg$"],"sources":["C:/Users/linei/Desktop/coding/exam/src/pages/ContentManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Container,\n  Typography,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  IconButton,\n  Select,\n  MenuItem,\n  FormControl,\n  InputLabel,\n  CircularProgress,\n  Alert,\n  Card,\n  CardContent,\n  Grid,\n  Paper,\n  Divider,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemSecondaryAction\n} from '@mui/material';\nimport { Edit as EditIcon, Delete as DeleteIcon, Add as AddIcon } from '@mui/icons-material';\nimport axios from 'axios';\n\n// API URL 統一取得\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\nfunction ContentManagement() {\n  const [contents, setContents] = useState([]);\n  const [filteredContents, setFilteredContents] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [open, setOpen] = useState(false);\n  const [editingContent, setEditingContent] = useState(null);\n  const [formData, setFormData] = useState({\n    category: '',\n    title: '',\n    prompt: '',\n    steps: [],\n  });\n  const [newStep, setNewStep] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [categories, setCategories] = useState([]);\n  const [openCategoryDialog, setOpenCategoryDialog] = useState(false);\n  const [editingCategory, setEditingCategory] = useState(null);\n  const [categoryFormData, setCategoryFormData] = useState({\n    value: '',\n    label: ''\n  });\n\n  // 獲取分類列表\n  const fetchCategories = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/categories`);\n      setCategories(response.data);\n    } catch (err) {\n      console.error('Error fetching categories:', err);\n      setError('獲取分類列表失敗');\n    }\n  };\n\n  // 獲取所有內容\n  const fetchContents = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get(`${API_URL}/contents`);\n      setContents(response.data);\n      setFilteredContents(response.data);\n      setError(null);\n    } catch (err) {\n      setError('獲取內容失敗：' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchCategories();\n    fetchContents();\n  }, []);\n\n  // 處理分類過濾\n  useEffect(() => {\n    if (selectedCategory) {\n      setFilteredContents(contents.filter(content => content.category === selectedCategory));\n    } else {\n      setFilteredContents(contents);\n    }\n  }, [selectedCategory, contents]);\n\n  const handleCategoryChange = (event) => {\n    setSelectedCategory(event.target.value);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setEditingContent(null);\n    setFormData({\n      category: '',\n      title: '',\n      prompt: '',\n      steps: [],\n    });\n    setNewStep('');\n  };\n\n  const handleEdit = (content) => {\n    setEditingContent(content);\n    setFormData({\n      category: content.category,\n      title: content.title,\n      prompt: content.prompt,\n      steps: content.steps,\n    });\n    setOpen(true);\n  };\n\n  const handleDelete = async (id) => {\n    if (window.confirm('確定要刪除這個內容嗎？')) {\n      try {\n        await axios.delete(`${API_URL}/contents/${id}`);\n        fetchContents();\n      } catch (err) {\n        setError('刪除內容失敗：' + err.message);\n      }\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      if (editingContent) {\n        await axios.put(`${API_URL}/contents/${editingContent._id}`, formData);\n      } else {\n        await axios.post(`${API_URL}/contents`, formData);\n      }\n      handleClose();\n      fetchContents();\n    } catch (err) {\n      setError('保存內容失敗：' + err.message);\n    }\n  };\n\n  const handleAddStep = () => {\n    if (newStep.trim()) {\n      setFormData(prev => ({\n        ...prev,\n        steps: [...prev.steps, newStep.trim()]\n      }));\n      setNewStep('');\n    }\n  };\n\n  const handleRemoveStep = (index) => {\n    setFormData(prev => ({\n      ...prev,\n      steps: prev.steps.filter((_, i) => i !== index)\n    }));\n  };\n\n  // 分類管理相關函數\n  const handleOpenCategoryDialog = (category = null) => {\n    if (category) {\n      setEditingCategory(category);\n      setCategoryFormData({\n        value: category.value,\n        label: category.label\n      });\n    } else {\n      setEditingCategory(null);\n      setCategoryFormData({\n        value: '',\n        label: ''\n      });\n    }\n    setOpenCategoryDialog(true);\n  };\n\n  const handleCloseCategoryDialog = () => {\n    setOpenCategoryDialog(false);\n    setEditingCategory(null);\n    setCategoryFormData({\n      value: '',\n      label: ''\n    });\n  };\n\n  const handleSubmitCategory = async (e) => {\n    e.preventDefault();\n    try {\n      if (editingCategory) {\n        await axios.put(`${API_URL}/categories/${editingCategory._id}`, categoryFormData);\n      } else {\n        await axios.post(`${API_URL}/categories`, categoryFormData);\n      }\n      handleCloseCategoryDialog();\n      fetchCategories();\n    } catch (err) {\n      console.error('Error saving category:', err);\n      setError('保存分類失敗');\n    }\n  };\n\n  const handleDeleteCategory = async (id) => {\n    if (window.confirm('確定要刪除這個分類嗎？刪除分類可能會影響相關內容。')) {\n      try {\n        await axios.delete(`${API_URL}/categories/${id}`);\n        fetchCategories();\n      } catch (err) {\n        console.error('Error deleting category:', err);\n        setError('刪除分類失敗');\n      }\n    }\n  };\n\n  const handleAddContent = async () => {\n    try {\n      const response = await axios.post(`${API_URL}/contents`, newContent);\n      setContents(prevContents => [...prevContents, response.data]);\n      setNewContent({ category: '', title: '', prompt: '', steps: [''] });\n      setOpenDialog(false);\n    } catch (error) {\n      console.error('Error adding content:', error);\n      alert('新增內容失敗，請重試');\n    }\n  };\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ \n        fontWeight: 'bold',\n        color: 'primary.main',\n        textAlign: 'center',\n        mb: 4\n      }}>\n        內容管理系統\n      </Typography>\n\n      <Paper \n        elevation={3}\n        sx={{ \n          p: 3, \n          mb: 4,\n          borderRadius: 2,\n          backgroundColor: 'background.paper'\n        }}\n      >\n        <Grid container spacing={3} alignItems=\"center\">\n          <Grid item xs={12} md={6}>\n            <FormControl fullWidth>\n              <InputLabel>選擇分類</InputLabel>\n              <Select\n                value={selectedCategory}\n                onChange={handleCategoryChange}\n                label=\"選擇分類\"\n                sx={{ \n                  height: 56,\n                  minWidth: 200,\n                  '& .MuiSelect-select': {\n                    fontSize: '1.1rem'\n                  }\n                }}\n              >\n                <MenuItem value=\"\">全部內容</MenuItem>\n                {categories.map((category) => (\n                  <MenuItem key={category.value} value={category.value}>\n                    {category.label}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n          </Grid>\n          <Grid item xs={12} md={6} sx={{ textAlign: { xs: 'center', md: 'right' } }}>\n            <Button\n              variant=\"contained\"\n              startIcon={<AddIcon />}\n              onClick={handleOpen}\n              size=\"large\"\n              sx={{ \n                px: 4,\n                py: 1.5,\n                borderRadius: 2,\n                textTransform: 'none',\n                fontSize: '1.1rem',\n                mr: 2\n              }}\n            >\n              新增內容\n            </Button>\n            <Button\n              variant=\"outlined\"\n              startIcon={<AddIcon />}\n              onClick={() => handleOpenCategoryDialog()}\n              size=\"large\"\n              sx={{ \n                px: 4,\n                py: 1.5,\n                borderRadius: 2,\n                textTransform: 'none',\n                fontSize: '1.1rem'\n              }}\n            >\n              管理分類\n            </Button>\n          </Grid>\n        </Grid>\n      </Paper>\n\n      {error && (\n        <Alert \n          severity=\"error\" \n          sx={{ \n            mb: 3,\n            borderRadius: 2,\n            '& .MuiAlert-message': {\n              fontSize: '1rem'\n            }\n          }}\n        >\n          {error}\n        </Alert>\n      )}\n\n      {loading ? (\n        <Box display=\"flex\" justifyContent=\"center\" p={4}>\n          <CircularProgress size={40} />\n        </Box>\n      ) : (\n        <Box sx={{ width: '100%' }}>\n          <Grid container spacing={3} sx={{ width: '100%', margin: 0 }}>\n            {filteredContents.map((content) => (\n              <Grid \n                item \n                xs={12} \n                sm={6} \n                md={3} \n                key={content._id} \n                sx={{ \n                  display: 'flex',\n                  p: '12px !important',\n                  width: { xs: '100%', sm: '50%', md: '25%' }\n                }}\n              >\n                <Card \n                  elevation={2}\n                  sx={{ \n                    borderRadius: 2,\n                    transition: 'transform 0.2s, box-shadow 0.2s',\n                    '&:hover': {\n                      transform: 'translateY(-4px)',\n                      boxShadow: 4\n                    },\n                    height: 400,\n                    width: '100%',\n                    display: 'flex',\n                    flexDirection: 'column',\n                    flex: 1\n                  }}\n                >\n                  <CardContent sx={{ \n                    p: 3, \n                    flex: 1, \n                    display: 'flex', \n                    flexDirection: 'column',\n                    height: '100%',\n                    overflow: 'hidden'\n                  }}>\n                    <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"flex-start\" mb={2}>\n                      <Box flex={1} sx={{ minWidth: 0, pr: 2 }}>\n                        <Typography \n                          variant=\"h6\" \n                          component=\"div\" \n                          sx={{ \n                            fontWeight: 'bold',\n                            mb: 1,\n                            color: 'primary.main',\n                            overflow: 'hidden',\n                            textOverflow: 'ellipsis',\n                            display: '-webkit-box',\n                            WebkitLineClamp: 2,\n                            WebkitBoxOrient: 'vertical'\n                          }}\n                        >\n                          {content.title}\n                        </Typography>\n                        <Typography \n                          color=\"textSecondary\" \n                          sx={{ \n                            fontSize: '0.9rem',\n                            mb: 2,\n                            overflow: 'hidden',\n                            textOverflow: 'ellipsis',\n                            whiteSpace: 'nowrap'\n                          }}\n                        >\n                          分類：{categories.find(c => c.value === content.category)?.label || content.category}\n                        </Typography>\n                      </Box>\n                      <Box sx={{ display: 'flex', gap: 2, flexShrink: 0 }}>\n                        <IconButton \n                          onClick={() => handleEdit(content)}\n                          sx={{ \n                            color: 'primary.main',\n                            '&:hover': { backgroundColor: 'primary.light' },\n                            width: 36,\n                            height: 36\n                          }}\n                        >\n                          <EditIcon />\n                        </IconButton>\n                        <IconButton \n                          onClick={() => handleDelete(content._id)}\n                          sx={{ \n                            color: 'error.main',\n                            '&:hover': { backgroundColor: 'error.light' },\n                            width: 36,\n                            height: 36\n                          }}\n                        >\n                          <DeleteIcon />\n                        </IconButton>\n                      </Box>\n                    </Box>\n\n                    <Divider sx={{ my: 2 }} />\n\n                    <Typography \n                      variant=\"body1\" \n                      component=\"pre\" \n                      sx={{ \n                        whiteSpace: 'pre-wrap',\n                        fontFamily: 'inherit',\n                        fontSize: '1rem',\n                        lineHeight: 1.5,\n                        backgroundColor: 'grey.50',\n                        p: 2,\n                        borderRadius: 1,\n                        mb: 2,\n                        flex: 1,\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                        display: '-webkit-box',\n                        WebkitLineClamp: 4,\n                        WebkitBoxOrient: 'vertical'\n                      }}\n                    >\n                      {content.prompt}\n                    </Typography>\n\n                    {content.steps && content.steps.length > 0 && (\n                      <Box mt={2}>\n                        <Typography \n                          variant=\"subtitle1\" \n                          sx={{ \n                            fontWeight: 'bold',\n                            mb: 1,\n                            color: 'primary.main'\n                          }}\n                        >\n                          操作步驟：\n                        </Typography>\n                        <Box \n                          component=\"ol\" \n                          sx={{ \n                            pl: 2,\n                            m: 0,\n                            '& li': {\n                              mb: 1,\n                              fontSize: '0.9rem',\n                              lineHeight: 1.4,\n                              overflow: 'hidden',\n                              textOverflow: 'ellipsis',\n                              display: '-webkit-box',\n                              WebkitLineClamp: 2,\n                              WebkitBoxOrient: 'vertical'\n                            }\n                          }}\n                        >\n                          {content.steps.slice(0, 2).map((step, index) => (\n                            <li key={index}>\n                              <Typography variant=\"body2\">{step}</Typography>\n                            </li>\n                          ))}\n                          {content.steps.length > 2 && (\n                            <Typography \n                              variant=\"body2\" \n                              color=\"textSecondary\"\n                              sx={{ \n                                mt: 1,\n                                fontStyle: 'italic'\n                              }}\n                            >\n                              還有 {content.steps.length - 2} 個步驟...\n                            </Typography>\n                          )}\n                        </Box>\n                      </Box>\n                    )}\n                  </CardContent>\n                </Card>\n              </Grid>\n            ))}\n          </Grid>\n        </Box>\n      )}\n\n      <Dialog \n        open={open} \n        onClose={handleClose} \n        maxWidth=\"md\" \n        fullWidth\n        PaperProps={{\n          sx: {\n            borderRadius: 2,\n            p: 1,\n            minHeight: 600\n          }\n        }}\n      >\n        <DialogTitle sx={{ \n          fontSize: '1.5rem',\n          fontWeight: 'bold',\n          color: 'primary.main',\n          pb: 2\n        }}>\n          {editingContent ? '編輯內容' : '新增內容'}\n        </DialogTitle>\n        <DialogContent>\n          <Box \n            component=\"form\" \n            onSubmit={handleSubmit} \n            sx={{ \n              mt: 2,\n              '& .MuiFormControl-root': {\n                mb: 3\n              }\n            }}\n          >\n            <FormControl fullWidth>\n              <InputLabel>分類</InputLabel>\n              <Select\n                value={formData.category}\n                onChange={(e) => setFormData({ ...formData, category: e.target.value })}\n                label=\"分類\"\n                required\n                sx={{ \n                  height: 56,\n                  '& .MuiSelect-select': {\n                    fontSize: '1.1rem'\n                  }\n                }}\n              >\n                {categories.map((category) => (\n                  <MenuItem key={category.value} value={category.value}>\n                    {category.label}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            <TextField\n              fullWidth\n              label=\"標題\"\n              value={formData.title}\n              onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n              required\n              sx={{ mb: 3 }}\n            />\n\n            <TextField\n              fullWidth\n              label=\"提示詞\"\n              value={formData.prompt}\n              onChange={(e) => setFormData({ ...formData, prompt: e.target.value })}\n              multiline\n              rows={4}\n              required\n              sx={{ mb: 3 }}\n            />\n\n            <Box sx={{ mb: 3 }}>\n              <Typography \n                variant=\"h6\" \n                sx={{ \n                  fontWeight: 'bold',\n                  mb: 2,\n                  color: 'primary.main'\n                }}\n              >\n                操作步驟\n              </Typography>\n              {formData.steps.map((step, index) => (\n                <Box \n                  key={index} \n                  display=\"flex\" \n                  alignItems=\"center\" \n                  mb={2}\n                  sx={{\n                    '& .MuiTextField-root': {\n                      mr: 1\n                    }\n                  }}\n                >\n                  <Typography \n                    sx={{ \n                      mr: 2,\n                      fontWeight: 'bold',\n                      color: 'primary.main',\n                      minWidth: '2rem'\n                    }}\n                  >\n                    {index + 1}.\n                  </Typography>\n                  <TextField\n                    fullWidth\n                    value={step}\n                    onChange={(e) => {\n                      const newSteps = [...formData.steps];\n                      newSteps[index] = e.target.value;\n                      setFormData({ ...formData, steps: newSteps });\n                    }}\n                    multiline\n                    rows={2}\n                  />\n                  <IconButton \n                    onClick={() => handleRemoveStep(index)}\n                    sx={{ \n                      color: 'error.main',\n                      '&:hover': { backgroundColor: 'error.light' },\n                      ml: 1\n                    }}\n                  >\n                    <DeleteIcon />\n                  </IconButton>\n                </Box>\n              ))}\n              <Box \n                display=\"flex\" \n                mt={2}\n                sx={{\n                  '& .MuiTextField-root': {\n                    mr: 1\n                  }\n                }}\n              >\n                <TextField\n                  fullWidth\n                  label=\"新增步驟\"\n                  value={newStep}\n                  onChange={(e) => setNewStep(e.target.value)}\n                  multiline\n                  rows={2}\n                />\n                <Button \n                  onClick={handleAddStep} \n                  variant=\"outlined\"\n                  sx={{ \n                    px: 3,\n                    textTransform: 'none',\n                    fontSize: '1rem',\n                    ml: 1\n                  }}\n                >\n                  添加\n                </Button>\n              </Box>\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions sx={{ p: 3 }}>\n          <Button \n            onClick={handleClose}\n            sx={{ \n              mr: 1,\n              px: 3,\n              textTransform: 'none',\n              fontSize: '1rem'\n            }}\n          >\n            取消\n          </Button>\n          <Button \n            onClick={handleSubmit} \n            variant=\"contained\"\n            sx={{ \n              px: 3,\n              textTransform: 'none',\n              fontSize: '1rem'\n            }}\n          >\n            保存\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* 分類管理對話框 */}\n      <Dialog\n        open={openCategoryDialog}\n        onClose={handleCloseCategoryDialog}\n        maxWidth=\"sm\"\n        fullWidth\n        PaperProps={{\n          sx: {\n            borderRadius: 2,\n            p: 1\n          }\n        }}\n      >\n        <DialogTitle sx={{ \n          fontSize: '1.5rem',\n          fontWeight: 'bold',\n          color: 'primary.main',\n          pb: 2\n        }}>\n          {editingCategory ? '編輯分類' : '管理分類'}\n        </DialogTitle>\n        <DialogContent>\n          <Box sx={{ mt: 2 }}>\n            <List>\n              {categories.map((category) => (\n                <ListItem\n                  key={category._id}\n                  sx={{\n                    border: '1px solid',\n                    borderColor: 'divider',\n                    borderRadius: 1,\n                    mb: 1,\n                    '&:hover': {\n                      backgroundColor: 'action.hover'\n                    }\n                  }}\n                >\n                  <ListItemText\n                    primary={category.label}\n                    primaryTypographyProps={{\n                      fontSize: '1.1rem'\n                    }}\n                  />\n                  <ListItemSecondaryAction>\n                    <IconButton\n                      edge=\"end\"\n                      onClick={() => handleOpenCategoryDialog(category)}\n                      sx={{ mr: 1 }}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <IconButton\n                      edge=\"end\"\n                      onClick={() => handleDeleteCategory(category._id)}\n                      sx={{ color: 'error.main' }}\n                    >\n                      <DeleteIcon />\n                    </IconButton>\n                  </ListItemSecondaryAction>\n                </ListItem>\n              ))}\n            </List>\n\n            {editingCategory ? (\n              <Box \n                component=\"form\" \n                onSubmit={handleSubmitCategory} \n                sx={{ mt: 3 }}\n              >\n                <TextField\n                  fullWidth\n                  label=\"分類名稱\"\n                  value={categoryFormData.label}\n                  onChange={(e) => setCategoryFormData({ label: e.target.value })}\n                  required\n                  sx={{ mb: 3 }}\n                />\n              </Box>\n            ) : (\n              <Box \n                component=\"form\" \n                onSubmit={handleSubmitCategory} \n                sx={{ mt: 3 }}\n              >\n                <TextField\n                  fullWidth\n                  label=\"新增分類名稱\"\n                  value={categoryFormData.label}\n                  onChange={(e) => setCategoryFormData({ label: e.target.value })}\n                  required\n                  sx={{ mb: 3 }}\n                />\n              </Box>\n            )}\n          </Box>\n        </DialogContent>\n        <DialogActions sx={{ p: 3 }}>\n          <Button \n            onClick={handleCloseCategoryDialog}\n            sx={{ \n              mr: 1,\n              px: 3,\n              textTransform: 'none',\n              fontSize: '1rem'\n            }}\n          >\n            取消\n          </Button>\n          <Button \n            onClick={handleSubmitCategory} \n            variant=\"contained\"\n            sx={{ \n              px: 3,\n              textTransform: 'none',\n              fontSize: '1rem'\n            }}\n          >\n            {editingCategory ? '保存' : '新增'}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Container>\n  );\n}\n\nexport default ContentManagement; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}